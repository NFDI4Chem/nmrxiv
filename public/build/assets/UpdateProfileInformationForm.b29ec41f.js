import{_ as y,a6 as S,a8 as V,ac as I,ad as C,ae as N,af as J,o as _,c as h,w as s,b as B,a as r,e as o,aj as v,aP as P,aG as F,ai as g,d as b,a3 as U,f as m,g as n}from"./app.640fc03a.js";import{J as x}from"./FormSection.2394acf2.js";/* empty css            */const z={components:{JetActionMessage:S,JetButton:V,JetFormSection:x,JetInput:I,JetInputError:C,JetLabel:N,JetSecondaryButton:J},props:["user"],data(){return{form:this.$inertia.form({_method:"PUT",first_name:this.user.first_name,last_name:this.user.last_name,email:this.user.email,photo:null}),photoPreview:null}},methods:{updateProfileInformation(){this.$refs.photo&&(this.form.photo=this.$refs.photo.files[0]),this.form.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>this.clearPhotoFileInput()})},selectNewPhoto(){this.$refs.photo.click()},updatePhotoPreview(){const l=this.$refs.photo.files[0];if(!l)return;const t=new FileReader;t.onload=i=>{this.photoPreview=i.target.result},t.readAsDataURL(l)},deletePhoto(){this.$inertia.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{this.photoPreview=null,this.clearPhotoFileInput()}})},clearPhotoFileInput(){var l;(l=this.$refs.photo)!=null&&l.value&&(this.$refs.photo.value=null)}}},A=m(" Profile Information "),E=m(" Update your account's profile information and email address. "),L={key:0,class:"col-span-6 sm:col-span-4"},R={class:"mt-2"},D=["src","alt"],M={class:"mt-2"},T=m(" Select A New Photo "),G=m(" Remove Photo "),q={class:"col-span-6 sm:col-span-4"},H={class:"col-span-6 sm:col-span-4"},K={class:"col-span-6 sm:col-span-4"},O=m(" Saved. "),Q=m(" Save ");function W(l,t,i,X,e,c){const u=n("jet-label"),d=n("jet-secondary-button"),p=n("jet-input-error"),f=n("jet-input"),w=n("jet-action-message"),k=n("jet-button"),j=n("jet-form-section");return _(),h(j,{onSubmitted:c.updateProfileInformation},{title:s(()=>[A]),description:s(()=>[E]),form:s(()=>[l.$page.props.jetstream.managesProfilePhotos?(_(),B("div",L,[r("input",{type:"file",class:"hidden",ref:"photo",onChange:t[0]||(t[0]=(...a)=>c.updatePhotoPreview&&c.updatePhotoPreview(...a))},null,544),o(u,{for:"photo",value:"Photo"}),v(r("div",R,[r("img",{src:i.user.profile_photo_url,alt:i.user.first_name+" "+i.user.last_name,class:"rounded-full h-20 w-20 object-cover"},null,8,D)],512),[[P,!e.photoPreview]]),v(r("div",M,[r("span",{class:"block rounded-full w-20 h-20",style:F("background-size: cover; background-repeat: no-repeat; background-position: center center; background-image: url('"+e.photoPreview+"');")},null,4)],512),[[P,e.photoPreview]]),o(d,{class:"mt-2 mr-2",type:"button",onClick:g(c.selectNewPhoto,["prevent"])},{default:s(()=>[T]),_:1},8,["onClick"]),i.user.profile_photo_path?(_(),h(d,{key:0,type:"button",class:"mt-2",onClick:g(c.deletePhoto,["prevent"])},{default:s(()=>[G]),_:1},8,["onClick"])):b("",!0),o(p,{message:e.form.errors.photo,class:"mt-2"},null,8,["message"])])):b("",!0),r("div",q,[o(u,{for:"first_name",value:"First Name"}),o(f,{id:"first_name",type:"text",class:"mt-1 block w-full",modelValue:e.form.first_name,"onUpdate:modelValue":t[1]||(t[1]=a=>e.form.first_name=a),autocomplete:"first_name"},null,8,["modelValue"]),o(p,{message:e.form.errors.first_name,class:"mt-2"},null,8,["message"])]),r("div",H,[o(u,{for:"last_name",value:"Last Name"}),o(f,{id:"last_name",type:"text",class:"mt-1 block w-full",modelValue:e.form.last_name,"onUpdate:modelValue":t[2]||(t[2]=a=>e.form.last_name=a),autocomplete:"last_name"},null,8,["modelValue"]),o(p,{message:e.form.errors.last_name,class:"mt-2"},null,8,["message"])]),r("div",K,[o(u,{for:"email",value:"Email"}),o(f,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:e.form.email,"onUpdate:modelValue":t[3]||(t[3]=a=>e.form.email=a)},null,8,["modelValue"]),o(p,{message:e.form.errors.email,class:"mt-2"},null,8,["message"])])]),actions:s(()=>[o(w,{on:e.form.recentlySuccessful,class:"mr-3"},{default:s(()=>[O]),_:1},8,["on"]),o(k,{class:U({"opacity-25":e.form.processing}),disabled:e.form.processing},{default:s(()=>[Q]),_:1},8,["class","disabled"])]),_:1},8,["onSubmitted"])}var ee=y(z,[["render",W]]);export{ee as default};
