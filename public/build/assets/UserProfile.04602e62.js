import{_ as S,a6 as C,a8 as I,ac as N,ad as U,ae as B,af as J,o as p,c as v,w as l,b as h,a as n,e as o,aj as P,aP as g,d as _,aG as F,ai as b,a3 as k,f as m,g as i}from"./app.640fc03a.js";import{J as x}from"./FormSection.2394acf2.js";/* empty css            */const z={components:{JetActionMessage:C,JetButton:I,JetFormSection:x,JetInput:N,JetInputError:U,JetLabel:B,JetSecondaryButton:J},props:["user"],data(){return{form:this.$inertia.form({_method:this.user?"PUT":"POST",first_name:this.user?this.user.first_name:"",last_name:this.user?this.user.last_name:"",email:this.user?this.user.email:"",password:null,password_confirmation:null,terms:!0,photo:null}),photoPreview:null}},methods:{updateProfileInformation(){this.$refs.photo&&(this.form.photo=this.$refs.photo.files[0]),this.user?this.form.post(route("console.users.update",this.user.id),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>this.clearPhotoFileInput()}):this.form.post(route("console.users.store"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>this.clearPhotoFileInput()})},selectNewPhoto(){this.$refs.photo.click()},updatePhotoPreview(){const a=this.$refs.photo.files[0];if(!a)return;const s=new FileReader;s.onload=r=>{this.photoPreview=r.target.result},s.readAsDataURL(a)},deletePhoto(){this.$inertia.delete(route("users.destroy-photo",this.user.id),{preserveScroll:!0,onSuccess:()=>{this.photoPreview=null,this.clearPhotoFileInput()}})},clearPhotoFileInput(){var a;(a=this.$refs.photo)!=null&&a.value&&(this.$refs.photo.value=null)},back(){window.history.back()}}},A=m(" Profile Information "),E=m(" Update user's profile information and email address. "),L={key:0,class:"col-span-6 sm:col-span-4"},R={key:0,class:"mt-2"},T=["src","alt"],D={class:"mt-2"},M=m(" Select A New Photo "),G=m(" Remove Photo "),O={class:"col-span-6 sm:col-span-4"},q={class:"col-span-6 sm:col-span-4"},H={class:"col-span-6 sm:col-span-4"},K={key:1,class:"col-span-6 sm:col-span-4"},Q={key:2,class:"col-span-6 sm:col-span-4"},W=m(" Cancel "),X=m(" Saved. "),Y=m(" Save ");function Z(a,s,r,$,e,c){const u=i("jet-label"),w=i("jet-secondary-button"),d=i("jet-input-error"),f=i("jet-input"),y=i("jet-action-message"),V=i("jet-button"),j=i("jet-form-section");return p(),v(j,{onSubmitted:c.updateProfileInformation},{title:l(()=>[A]),description:l(()=>[E]),form:l(()=>[r.user&&a.$page.props.jetstream.managesProfilePhotos?(p(),h("div",L,[n("input",{type:"file",class:"hidden",ref:"photo",onChange:s[0]||(s[0]=(...t)=>c.updatePhotoPreview&&c.updatePhotoPreview(...t))},null,544),o(u,{for:"photo",value:"Photo"}),r.user?P((p(),h("div",R,[n("img",{src:r.user.profile_photo_url,alt:r.user.first_name,class:"rounded-full h-20 w-20 object-cover"},null,8,T)],512)),[[g,!e.photoPreview]]):_("",!0),P(n("div",D,[n("span",{class:"block rounded-full w-20 h-20",style:F("background-size: cover; background-repeat: no-repeat; background-position: center center; background-image: url('"+e.photoPreview+"');")},null,4)],512),[[g,e.photoPreview]]),o(w,{class:"mt-2 mr-2",type:"button",onClick:b(c.selectNewPhoto,["prevent"])},{default:l(()=>[M]),_:1},8,["onClick"]),r.user&&r.user.profile_photo_url?(p(),v(w,{key:1,type:"button",class:"mt-2",onClick:b(c.deletePhoto,["prevent"])},{default:l(()=>[G]),_:1},8,["onClick"])):_("",!0),o(d,{message:e.form.errors.photo,class:"mt-2"},null,8,["message"])])):_("",!0),n("div",O,[o(u,{for:"first_name",value:"First Name"}),o(f,{id:"first_name",type:"text",class:"mt-1 block w-full",modelValue:e.form.first_name,"onUpdate:modelValue":s[1]||(s[1]=t=>e.form.first_name=t),autocomplete:"first_name"},null,8,["modelValue"]),o(d,{message:e.form.errors.first_name,class:"mt-2"},null,8,["message"])]),n("div",q,[o(u,{for:"last_name",value:"Last Name"}),o(f,{id:"last_name",type:"text",class:"mt-1 block w-full",modelValue:e.form.last_name,"onUpdate:modelValue":s[2]||(s[2]=t=>e.form.last_name=t),autocomplete:"last_name"},null,8,["modelValue"]),o(d,{message:e.form.errors.last_name,class:"mt-2"},null,8,["message"])]),n("div",H,[o(u,{for:"email",value:"Email"}),o(f,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:e.form.email,"onUpdate:modelValue":s[3]||(s[3]=t=>e.form.email=t)},null,8,["modelValue"]),o(d,{message:e.form.errors.email,class:"mt-2"},null,8,["message"])]),r.user?_("",!0):(p(),h("div",K,[o(u,{for:"password",value:"Password"}),o(f,{id:"password",type:"password",class:"mt-1 block w-full",modelValue:e.form.password,"onUpdate:modelValue":s[4]||(s[4]=t=>e.form.password=t),ref:"password",autocomplete:"new-password"},null,8,["modelValue"]),o(d,{message:e.form.errors.password,class:"mt-2"},null,8,["message"])])),r.user?_("",!0):(p(),h("div",Q,[o(u,{for:"password_confirmation",value:"Confirm Password"}),o(f,{id:"password_confirmation",type:"password",class:"mt-1 block w-full",modelValue:e.form.password_confirmation,"onUpdate:modelValue":s[5]||(s[5]=t=>e.form.password_confirmation=t),autocomplete:"new-password"},null,8,["modelValue"]),o(d,{message:e.form.errors.password_confirmation,class:"mt-2"},null,8,["message"])]))]),actions:l(()=>[o(w,{class:k({"opacity-25":e.form.processing}),disabled:e.form.processing,onClick:c.back},{default:l(()=>[W]),_:1},8,["class","disabled","onClick"]),o(y,{on:e.form.recentlySuccessful,class:"mr-3"},{default:l(()=>[X]),_:1},8,["on"]),o(V,{class:k({"opacity-25":e.form.processing}),disabled:e.form.processing},{default:l(()=>[Y]),_:1},8,["class","disabled"])]),_:1},8,["onSubmitted"])}var te=S(z,[["render",Z]]);export{te as default};
