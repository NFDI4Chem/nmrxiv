import{_ as J,a6 as B,a7 as I,a8 as V,a9 as M,aa as N,ab as L,ac as U,ad as E,ae as z,af as Y,ag as q,o as a,b as c,e as s,w as o,a as l,F as h,r as f,d as _,a3 as T,t as k,f as i,g as r}from"./app.640fc03a.js";import{J as G}from"./FormSection.2394acf2.js";import{J as H}from"./Checkbox.81c6d414.js";/* empty css            */const K={components:{JetActionMessage:B,JetActionSection:I,JetButton:V,JetConfirmationModal:M,JetDangerButton:N,JetDialogModal:L,JetFormSection:G,JetInput:U,JetCheckbox:H,JetInputError:E,JetLabel:z,JetSecondaryButton:Y,JetSectionBorder:q},props:["tokens","availablePermissions","defaultPermissions"],data(){return{createApiTokenForm:this.$inertia.form({name:"",permissions:this.defaultPermissions}),updateApiTokenForm:this.$inertia.form({permissions:[]}),deleteApiTokenForm:this.$inertia.form(),displayingToken:!1,managingPermissionsFor:null,apiTokenBeingDeleted:null}},methods:{createApiToken(){this.createApiTokenForm.post(route("api-tokens.store"),{preserveScroll:!0,onSuccess:()=>{this.displayingToken=!0,this.createApiTokenForm.reset()}})},manageApiTokenPermissions(m){this.updateApiTokenForm.permissions=m.abilities,this.managingPermissionsFor=m},updateApiToken(){this.updateApiTokenForm.put(route("api-tokens.update",this.managingPermissionsFor),{preserveScroll:!0,preserveState:!0,onSuccess:()=>this.managingPermissionsFor=null})},confirmApiTokenDeletion(m){this.apiTokenBeingDeleted=m},deleteApiToken(){this.deleteApiTokenForm.delete(route("api-tokens.destroy",this.apiTokenBeingDeleted),{preserveScroll:!0,preserveState:!0,onSuccess:()=>this.apiTokenBeingDeleted=null})}}},O=i(" Create API Token "),Q=i(" API tokens allow third-party services to authenticate with our application on your behalf. "),R={class:"col-span-6 sm:col-span-4"},W={key:0,class:"col-span-6"},X={class:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4"},Z={class:"flex items-center"},$={class:"ml-2 text-sm text-gray-600"},ee=i(" Created. "),oe=i(" Create "),te={key:0},se={class:"mt-10 sm:mt-0"},ne=i(" Manage API Tokens "),ie=i(" You may delete any of your existing tokens if they are no longer needed. "),re={class:"space-y-6"},le={class:"flex items-center"},ae={key:0,class:"text-sm text-gray-400"},ce=["onClick"],me=["onClick"],de=i(" API Token "),pe=l("div",null," Please copy your new API token. For your security, it won't be shown again. ",-1),ue={key:0,class:"mt-4 bg-gray-100 px-4 py-2 rounded font-mono text-sm text-gray-500"},_e=i(" Close "),ke=i(" API Token Permissions "),ge={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},he={class:"flex items-center"},fe={class:"ml-2 text-sm text-gray-600"},Te=i(" Cancel "),ve=i(" Save "),ye=i(" Delete API Token "),Ae=i(" Are you sure you would like to delete this API token? "),be=i(" Cancel "),Fe=i(" Delete ");function je(m,n,d,Pe,e,p){const v=r("jet-label"),F=r("jet-input"),j=r("jet-input-error"),y=r("jet-checkbox"),P=r("jet-action-message"),A=r("jet-button"),C=r("jet-form-section"),x=r("jet-section-border"),S=r("jet-action-section"),g=r("jet-secondary-button"),b=r("jet-dialog-modal"),w=r("jet-danger-button"),D=r("jet-confirmation-modal");return a(),c("div",null,[s(C,{onSubmitted:p.createApiToken},{title:o(()=>[O]),description:o(()=>[Q]),form:o(()=>[l("div",R,[s(v,{for:"name",value:"Name"}),s(F,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:e.createApiTokenForm.name,"onUpdate:modelValue":n[0]||(n[0]=t=>e.createApiTokenForm.name=t),autofocus:""},null,8,["modelValue"]),s(j,{message:e.createApiTokenForm.errors.name,class:"mt-2"},null,8,["message"])]),d.availablePermissions.length>0?(a(),c("div",W,[s(v,{for:"permissions",value:"Permissions"}),l("div",X,[(a(!0),c(h,null,f(d.availablePermissions,t=>(a(),c("div",{key:t},[l("label",Z,[s(y,{value:t,checked:e.createApiTokenForm.permissions,"onUpdate:checked":n[1]||(n[1]=u=>e.createApiTokenForm.permissions=u)},null,8,["value","checked"]),l("span",$,k(t),1)])]))),128))])])):_("",!0)]),actions:o(()=>[s(P,{on:e.createApiTokenForm.recentlySuccessful,class:"mr-3"},{default:o(()=>[ee]),_:1},8,["on"]),s(A,{class:T({"opacity-25":e.createApiTokenForm.processing}),disabled:e.createApiTokenForm.processing},{default:o(()=>[oe]),_:1},8,["class","disabled"])]),_:1},8,["onSubmitted"]),d.tokens.length>0?(a(),c("div",te,[s(x),l("div",se,[s(S,null,{title:o(()=>[ne]),description:o(()=>[ie]),content:o(()=>[l("div",re,[(a(!0),c(h,null,f(d.tokens,t=>(a(),c("div",{class:"flex items-center justify-between",key:t.id},[l("div",null,k(t.name),1),l("div",le,[t.last_used_ago?(a(),c("div",ae," Last used "+k(t.last_used_ago),1)):_("",!0),d.availablePermissions.length>0?(a(),c("button",{key:1,class:"cursor-pointer ml-6 text-sm text-gray-400 underline",onClick:u=>p.manageApiTokenPermissions(t)}," Permissions ",8,ce)):_("",!0),l("button",{class:"cursor-pointer ml-6 text-sm text-red-500",onClick:u=>p.confirmApiTokenDeletion(t)}," Delete ",8,me)])]))),128))])]),_:1})])])):_("",!0),s(b,{show:e.displayingToken,onClose:n[3]||(n[3]=t=>e.displayingToken=!1)},{title:o(()=>[de]),content:o(()=>[pe,m.$page.props.jetstream.flash.token?(a(),c("div",ue,k(m.$page.props.jetstream.flash.token),1)):_("",!0)]),footer:o(()=>[s(g,{onClick:n[2]||(n[2]=t=>e.displayingToken=!1)},{default:o(()=>[_e]),_:1})]),_:1},8,["show"]),s(b,{show:e.managingPermissionsFor,onClose:n[6]||(n[6]=t=>e.managingPermissionsFor=null)},{title:o(()=>[ke]),content:o(()=>[l("div",ge,[(a(!0),c(h,null,f(d.availablePermissions,t=>(a(),c("div",{key:t},[l("label",he,[s(y,{value:t,checked:e.updateApiTokenForm.permissions,"onUpdate:checked":n[4]||(n[4]=u=>e.updateApiTokenForm.permissions=u)},null,8,["value","checked"]),l("span",fe,k(t),1)])]))),128))])]),footer:o(()=>[s(g,{onClick:n[5]||(n[5]=t=>e.managingPermissionsFor=null)},{default:o(()=>[Te]),_:1}),s(A,{class:T(["ml-2",{"opacity-25":e.updateApiTokenForm.processing}]),onClick:p.updateApiToken,disabled:e.updateApiTokenForm.processing},{default:o(()=>[ve]),_:1},8,["onClick","class","disabled"])]),_:1},8,["show"]),s(D,{show:e.apiTokenBeingDeleted,onClose:n[8]||(n[8]=t=>e.apiTokenBeingDeleted=null)},{title:o(()=>[ye]),content:o(()=>[Ae]),footer:o(()=>[s(g,{onClick:n[7]||(n[7]=t=>e.apiTokenBeingDeleted=null)},{default:o(()=>[be]),_:1}),s(w,{class:T(["ml-2",{"opacity-25":e.deleteApiTokenForm.processing}]),onClick:p.deleteApiToken,disabled:e.deleteApiTokenForm.processing},{default:o(()=>[Fe]),_:1},8,["onClick","class","disabled"])]),_:1},8,["show"])])}var De=J(K,[["render",je]]);export{De as default};
