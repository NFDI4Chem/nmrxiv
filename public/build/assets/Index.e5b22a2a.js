import{_ as D,v as E,as as B,at as j,ay as I,au as M,r as f,aE as S,l as o,o as l,c as T,w as c,m as e,a,aC as J,aF as N,n as _,q as V,t as d,s as F,ao as L,k as q,u as m}from"./app.e0b65b09.js";import{B as z}from"./BreadCrumbs.22f0134f.js";import{I as O}from"./Icon.44832188.js";import R from"./Create.879fa00e.js";import U from"./Edit.123a23e8.js";import{T as G}from"./ToggleButton.26663620.js";const H={components:{AppLayout:E,BreadCrumbs:z,Icon:O,AnnouncementCreate:R,AnnouncementEdit:U,JetConfirmationModal:B,JetDangerButton:j,JetSecondaryButton:I,JetDialogModal:M,ToggleButton:G},setup(){const s=f(null),n=f(null),u=f("");return S(u,p=>{q.Inertia.get("announcements",{search:p},{preserveState:!0})}),{announcementCreateElement:s,announcementEditElement:n,search:u}},props:{announcements:Array,filters:Object},data(){return{form:this.$inertia.form({}),confirmingAnnouncementDeletion:!1,announcementId:null,pages:[{name:"Console",route:"console",current:!1},{name:"Announcements",route:"console.announcements",current:!0}]}},methods:{reset(){this.search=null},openAnnouncementCreateDialog(){this.announcementCreateElement.toggleCreateAnnouncementDialog()},openAnnouncementEditDialog(s){this.announcementEditElement.toggleEditAnnouncementDialog(s)},deleteAnnouncement(s){this.form.delete(route("console.announcements.destroy",s),{onSuccess:()=>{this.closeModal(),this.announcementId=null},onError:n=>console.error(n)})},confirmAnnouncementDeletion(s){console.log("confirm method called for "+s),this.announcementId=s,this.confirmingAnnouncementDeletion=!0},closeModal(){this.confirmingAnnouncementDeletion=!1,this.announcementId=null}}},K={class:"bg-white border-b"},P={class:"px-12"},Q={class:"flex flex-nowrap justify-between py-6"},W=e("div",{class:"mt-2 md:flex md:items-center md:justify-between"},[e("div",{class:"flex-1 min-w-0"},[e("div",{class:"flex items-center text-sm text-gray-700 uppercase font-bold tracking-widest mt-3"}," Announcements ")])],-1),X={class:"py-12 px-10"},Y={class:"mb-6 flex justify-between items-center"},Z={class:"flex items-center"},$={class:"flex w-full bg-white shadow rounded"},ee=e("span",null,"Create",-1),te=m("\xA0 "),ne=e("span",{class:"hidden md:inline"},"Announcement",-1),se={class:"bg-white rounded-md shadow overflow-x-auto"},oe={class:"divide-y divide-gray-200 w-full table-fixed"},ae=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Title "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Message "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Start Time "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," End Time "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Created By "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Edit "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Delete ")])],-1),ce={class:"bg-white divide-y divide-gray-200"},ie={class:"py-4 whitespace-nowrap"},re={class:"ml-4"},le={class:"text-sm font-medium text-gray-900"},de={class:"py-4 text-sm text-gray-500 break-normal"},me={class:"ml-4"},ue={class:"text-sm font-medium text-gray-900"},pe={class:"px-5 py-4 whitespace-nowrap"},_e={key:0,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},fe={key:1,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-green-800"},ge={class:"py-4 whitespace-nowrap"},xe={class:"ml-4"},he={class:"text-sm font-medium text-gray-900"},ye={class:"py-4 whitespace-nowrap"},be={class:"ml-4"},we={class:"text-sm font-medium text-gray-900"},ve={class:"py-4 whitespace-nowrap"},Ce={class:"ml-4"},ke={class:"text-sm font-medium text-gray-900"},Ae={class:"px-6 py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200"},De=["onClick"],Ee={class:"px-6 py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200"},Be=["onClick"],je=m(" Delete Announcement "),Ie=m(" Are you sure you want to delete this announcement? "),Me=e("div",{class:"mt-4"},null,-1),Se=m(" Cancel "),Te=m(" Delete Announcement ");function Je(s,n,u,p,r,i){const x=o("bread-crumbs"),h=o("Button"),g=o("icon"),y=o("jet-secondary-button"),b=o("jet-danger-button"),w=o("jet-dialog-modal"),v=o("announcement-create"),C=o("announcement-edit"),k=o("app-layout");return l(),T(k,{title:"Announcements and Notifications"},{header:c(()=>[e("div",K,[e("div",P,[e("div",Q,[e("div",null,[a(x,{pages:r.pages},null,8,["pages"]),W])])])])]),default:c(()=>[e("div",X,[e("div",Y,[e("div",Z,[e("div",$,[J(e("input",{"onUpdate:modelValue":n[0]||(n[0]=t=>p.search=t),class:"relative w-full border-0 px-6 py-3 rounded-r focus:shadow-outline",autocomplete:"off",type:"text",name:"search",placeholder:"Search\u2026"},null,512),[[N,p.search]])]),e("button",{class:"ml-3 text-sm text-gray-500 hover:text-gray-700 focus:text-indigo-500",type:"button",onClick:n[1]||(n[1]=t=>i.reset())}," Reset ")]),a(h,{class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition",onClick:n[2]||(n[2]=t=>i.openAnnouncementCreateDialog()),type:"button"},{default:c(()=>[ee,te,ne]),_:1})]),e("div",null,[e("div",se,[e("table",oe,[ae,e("tbody",ce,[(l(!0),_(F,null,V(u.announcements,t=>(l(),_("tr",{key:t.id},[e("td",ie,[e("div",re,[e("div",le,d(t.title),1)])]),e("td",de,[e("div",me,[e("div",ue,d(t.message),1)])]),e("td",pe,[t.status=="active"||t.status=="Active"?(l(),_("span",_e," Active ")):(l(),_("span",fe," Inactive "))]),e("td",ge,[e("div",xe,[e("div",he,d(t.start_time),1)])]),e("td",ye,[e("div",be,[e("div",we,d(t.end_time),1)])]),e("td",ve,[e("div",Ce,[e("div",ke,d(t.created_by),1)])]),e("td",Ae,[e("button",{type:"button",class:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-gray-800 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-300",onClick:A=>i.openAnnouncementEditDialog(t)},[a(g,{name:"edit"})],8,De)]),e("td",Ee,[e("button",{type:"button",class:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",onClick:A=>i.confirmAnnouncementDeletion(t.id)},[a(g,{name:"delete"})],8,Be)])]))),128))])]),a(w,{show:r.confirmingAnnouncementDeletion,onClose:i.closeModal},{title:c(()=>[je]),content:c(()=>[Ie,Me]),footer:c(()=>[a(y,{onClick:i.closeModal},{default:c(()=>[Se]),_:1},8,["onClick"]),a(b,{class:L(["ml-2",{"opacity-25":r.form.processing}]),onClick:n[3]||(n[3]=t=>i.deleteAnnouncement(r.announcementId)),disabled:r.form.processing},{default:c(()=>[Te]),_:1},8,["class","disabled"])]),_:1},8,["show","onClose"])])]),a(v,{ref:"announcementCreateElement"},null,512),a(C,{ref:"announcementEditElement"},null,512)])]),_:1})}var Oe=D(H,[["render",Je]]);export{Oe as default};
