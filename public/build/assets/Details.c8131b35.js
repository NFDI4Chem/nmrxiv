import{_ as F,l as J,aq as Y,as as Z,at as q,af as W,a8 as K,aU as Q,aV as ee,aW as te,aX as se,aY as oe,a6 as ie,ad as ne,a0 as re,aZ as ae,aw as le,a_ as de,a$ as ce,b0 as pe,b1 as ue,b2 as me,b3 as fe,b4 as be,b5 as ge,b6 as he,b7 as ye,b8 as ve,b9 as _e,ba as xe,bb as we,bc as je,a1 as ke,bd as Ce,be as Te,n as Le,o as a,c as b,w as r,e as i,a as e,aG as De,f as u,t as m,aj as d,am as g,a3 as c,b as l,d as p,bf as j,ak as Pe,a4 as Ve,F as Ie,r as $e,g as n}from"./app.640fc03a.js";import Ue from"./Activity.8159475a.js";/* empty css            */const k=[{value:"viewer",title:"Viewer",description:"Anyone on the internet with this link can view",current:!0},{value:"commentor",title:"Commentor",description:"Anyone on the internet with this link can comment",current:!1},{value:"editor",title:"Editor",description:"Anyone on the internet with this link can edit (sign in required)",current:!1}],Ae=J({components:{Switch:Y,SwitchGroup:Z,SwitchLabel:q,JetSecondaryButton:W,JetButton:K,Dialog:Q,DialogOverlay:ee,DialogTitle:te,TransitionChild:se,ColorPicker:oe,JetActionMessage:ie,JetInputError:ne,XIcon:re,ProjectActivity:Ue,TransitionRoot:ae,LinkIcon:le,PlusSmIcon:de,QuestionMarkCircleIcon:ce,ExclamationCircleIcon:pe,Listbox:ue,ListboxButton:me,ListboxLabel:fe,ListboxOption:be,ListboxOptions:ge,Tab:he,TabGroup:ye,TabList:ve,TabPanel:_e,TabPanels:xe,ClipboardCopyIcon:we,CheckIcon:je,ChevronDownIcon:ke,SelectRich:Ce,VueTagsInput:Te},props:["project","role"],setup(){return{activityDetailsElement:Le(null),publishingOptions:k}},data(){return{form:this.$inertia.form({_method:"PUT",name:this.project.name,description:this.project.description,error_message:null,team_id:this.project.team_id,owner_id:this.project.owner_id,color:this.project.color,starred:this.project.starred,access:this.project.access,access_type:this.project.access_type,is_public:this.project.is_public,license:null,tag:"",tags:[]}),open:!1,licenses:[],selectedAccessType:k.filter(t=>t.value==this.project.access_type)[0],linkAccess:this.project.access=="link"}},beforeMount(){this.project.license_id&&axios.get(route("console.license.getLicensebyId",this.project.license_id)).then(t=>{this.form.license=t.data[0]}),axios.get(route("console.licenses")).then(t=>{this.licenses=t.data})},methods:{assignTags(){if(this.study){let t=[];this.project.tags.forEach(o=>{t.push({text:o.name.en})}),this.form.tags=t}},toggleDetails(){this.open=!this.open,this.assignTags()},updateProject(){this.form.owner_id=this.project.owner_id,this.form.team_id=this.project.team_id,this.form.tags=this.form.tags.map(t=>t.text),this.linkAccess?(this.form.access="link",this.form.access_type=this.selectedAccessType.value):this.form.access="restricted",this.form.post(route("dashboard.project.update",this.project.id),{preserveScroll:!0,onSuccess:()=>{this.open=!1},onError:t=>console.error(t)})},toggleActivityDetails(){this.activityDetailsElement.toggleDetails()}},computed:{editable(){return this.role?this.role=="creator"||this.role=="owner"||this.role=="collaborator":!1}}}),Se={class:"absolute inset-0"},Oe={class:"fixed inset-y-0 pl-16 max-w-full right-0 flex"},Me={class:"w-screen max-w-2xl"},Ee={class:"h-full divide-y divide-gray-200 flex flex-col bg-white shadow-xl"},ze={class:"flex-1 h-0 overflow-y-auto"},Be={class:"flex items-center justify-between"},Re={class:"ml-3 h-7 flex items-center"},He=e("span",{class:"sr-only"},"Close panel",-1),Ge={class:"flex-1 flex flex-col justify-between"},Ne={class:"px-4 divide-y divide-gray-200 sm:px-6"},Xe={class:"space-y-6 pt-6 pb-5"},Fe=e("label",{for:"project-name",class:"block text-sm font-medium text-gray-900"}," Project name ",-1),Je={class:"mt-1"},Ye=["readonly"],Ze=e("label",{for:"description",class:"block text-sm font-medium text-gray-900"}," Description ",-1),qe={class:"mt-1"},We=e("label",{for:"comment",class:"sr-only"},"Comment",-1),Ke=["readonly"],Qe={class:"border-b"},et={class:"mx-px mt-px px-3 pt-2 pb-12"},tt={key:0,class:"text-gray-400 text-sm font-medium"},st={key:1},ot=["innerHTML"],it=e("label",{class:"block text-sm font-medium text-gray-700"},[e("small",null,[e("svg",{"aria-hidden":"true",height:"16",viewBox:"0 0 16 16",version:"1.1",width:"16","data-view-component":"true",class:"octicon octicon-markdown v-align-bottom inline"},[e("path",{"fill-rule":"evenodd",d:"M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z"})]),u(" Styling with Markdown is supported")])],-1),nt={class:"mb-3"},rt=e("label",{for:"description",class:"block text-sm font-medium text-gray-700"}," Tags ",-1),at={key:0},lt=e("label",{for:"study-name",class:"block text-sm font-medium text-gray-900"}," Color ",-1),dt=e("legend",{class:"text-sm font-medium text-gray-900"}," Privacy ",-1),ct={class:"mt-2 space-y-5"},pt={class:"relative flex items-start"},ut={class:"absolute flex items-center h-5"},mt=["checked","disabled"],ft=e("div",{class:"pl-7 text-sm"},[e("label",{for:"privacy-public",class:"font-medium text-gray-900"}," Public access "),e("p",{id:"privacy-public-description",class:"text-gray-500"}," Everyone with the link will see this project. ")],-1),bt={class:"relative flex items-start"},gt={class:"absolute flex items-center h-5"},ht=["checked","disabled"],yt=e("div",{class:"pl-7 text-sm"},[e("label",{for:"privacy-private-to-project",class:"font-medium text-gray-900"}," Private to project members "),e("p",{id:"privacy-private-to-project-description",class:"text-gray-500"}," Only members of this project would be able to access. ")],-1),vt={key:0,class:"pt-4 pb-6"},_t={class:"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-1"},xt={key:1,class:"pt-4 pb-6"},wt={key:0},jt=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Public URL",-1),kt={class:"mt-1 flex rounded-md shadow-sm"},Ct={class:"relative flex items-stretch flex-grow focus-within:z-10"},Tt=["readonly"],Lt={key:1},Dt={class:"space-y-1"},Pt={class:"relative flex items-start"},Vt={class:"flex items-center h-5"},It=e("div",{class:"ml-3 text-sm"},[e("label",{class:"font-medium text-gray-700"},"Any one with link")],-1),$t={key:0},Ut={class:"flex"},At={class:"flex-grow"},St=["value"],Ot={class:"mt-3"},Mt={class:"relative"},Et={class:"inline-flex shadow-sm rounded-md divide-x divide-gray-600"},zt={class:"relative z-0 inline-flex shadow-sm rounded-md divide-x divide-gray-600"},Bt={class:"relative inline-flex items-center bg-gray-500 py-2 pl-3 pr-4 border border-transparent rounded-l-md shadow-sm text-white"},Rt={class:"ml-2.5 text-sm font-medium"},Ht=e("span",{class:"sr-only"},"Change published status",-1),Gt={class:"flex flex-col"},Nt={class:"flex justify-between"},Xt={class:"flex-shrink-0 px-4 py-4 flex justify-end"},Ft=u(" Saved. "),Jt=u(" Cancel "),Yt=u(" Save ");function Zt(t,o,qt,Wt,Kt,Qt){const C=n("DialogOverlay"),T=n("DialogTitle"),L=n("XIcon"),h=n("jet-input-error"),y=n("Tab"),D=n("TabList"),v=n("TabPanel"),P=n("TabPanels"),V=n("TabGroup"),I=n("vue-tags-input"),$=n("color-picker"),U=n("select-rich"),_=n("ClipboardCopyIcon"),x=n("CheckIcon"),A=n("ChevronDownIcon"),S=n("ListboxButton"),O=n("ListboxOption"),M=n("ListboxOptions"),E=n("Listbox"),z=n("project-activity"),B=n("jet-action-message"),R=n("jet-secondary-button"),H=n("jet-button"),G=n("TransitionChild"),N=n("Dialog"),X=n("TransitionRoot");return a(),b(X,{as:"template",show:t.open},{default:r(()=>[i(N,{as:"div",class:"fixed inset-0 z-50"},{default:r(()=>[e("div",Se,[i(C,{class:"absolute inset-0"}),e("div",Oe,[i(G,{as:"template",enter:"transform transition ease-in-out duration-500 sm:duration-700","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:r(()=>[e("div",Me,[e("div",Ee,[e("div",ze,[e("div",{class:"py-6 px-4 sm:px-6",style:De([t.project.color&&t.project.color!=""?"background-color:"+t.project.color:"background-color:rgb(75,75,75)"])},[e("div",Be,[i(T,{class:"text-lg font-medium text-white"},{default:r(()=>[u(m(t.project.name),1)]),_:1}),e("div",Re,[e("button",{type:"button",class:"rounded-md hover:text-black text-white",onClick:o[0]||(o[0]=s=>t.open=!1)},[He,i(L,{class:"h-6 w-6","aria-hidden":"true"})])])])],4),e("div",Ge,[e("div",Ne,[e("div",Xe,[e("div",null,[Fe,e("div",Je,[d(e("input",{"onUpdate:modelValue":o[1]||(o[1]=s=>t.form.name=s),type:"text",readonly:!t.editable,name:"project-name",id:"project-name",class:"block w-full shadow-sm sm:text-sm focus:ring-gray-500 focus:border-gray-500 border-gray-300 rounded-md"},null,8,Ye),[[g,t.form.name]])]),i(h,{message:t.form.errors.name,class:"mt-2"},null,8,["message"])]),e("div",null,[Ze,e("div",qe,[i(V,null,{default:r(()=>[i(D,{class:"flex items-center"},{default:r(()=>[i(y,{as:"template"},{default:r(({selected:s})=>[e("button",{class:c([s?"text-gray-900 bg-gray-100 hover:bg-gray-200":"text-gray-500 hover:text-gray-900 bg-white hover:bg-gray-100","px-3 py-1.5 border border-transparent text-sm font-medium rounded-md"])}," Write ",2)]),_:1}),i(y,{as:"template"},{default:r(({selected:s})=>[e("button",{class:c([s?"text-gray-900 bg-gray-100 hover:bg-gray-200":"text-gray-500 hover:text-gray-900 bg-white hover:bg-gray-100","ml-2 px-3 py-1.5 border border-transparent text-sm font-medium rounded-md"])}," Preview ",2)]),_:1})]),_:1}),i(P,{class:"mt-2"},{default:r(()=>[i(v,{class:"p-0.5 -m-0.5 rounded-lg"},{default:r(()=>[We,e("div",null,[d(e("textarea",{"onUpdate:modelValue":o[2]||(o[2]=s=>t.form.description=s),id:"description",readonly:!t.editable,name:"description",placeholder:"Description (Optional)",rows:"3",class:"shadow-sm focus:ring-gray-500 focus:border-gray-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,8,Ke),[[g,t.form.description]])])]),_:1}),i(v,{class:"p-0.5 -m-0.5 rounded-lg"},{default:r(()=>[e("div",Qe,[e("div",et,[t.form.description==""?(a(),l("span",tt," Nothing to preview ")):(a(),l("span",st,[e("div",{class:"prose",innerHTML:t.md(t.form.description)},null,8,ot)]))])])]),_:1})]),_:1})]),_:1}),it,i(h,{message:t.form.errors.description,class:"mt-2"},null,8,["message"])])]),e("div",nt,[rt,e("div",null,[i(I,{modelValue:t.form.tag,"onUpdate:modelValue":o[3]||(o[3]=s=>t.form.tag=s),"max-width":"100%",tags:t.form.tags,onTagsChanged:o[4]||(o[4]=s=>t.form.tags=s)},null,8,["modelValue","tags"])])]),t.editable?(a(),l("div",at,[lt,i($,{pureColor:t.form.color,"onUpdate:pureColor":o[5]||(o[5]=s=>t.form.color=s)},null,8,["pureColor"])])):p("",!0),e("fieldset",null,[dt,e("div",ct,[e("div",pt,[e("div",ut,[d(e("input",{checked:t.form.is_public===!0,"onUpdate:modelValue":o[6]||(o[6]=s=>t.form.is_public=s),disabled:!t.editable,id:"privacy-public",name:"privacy",value:"true","aria-describedby":"privacy-public-description",type:"radio",class:"focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300"},null,8,mt),[[j,t.form.is_public]])]),ft]),e("div",null,[e("div",bt,[e("div",gt,[d(e("input",{checked:t.form.is_public===!1,"onUpdate:modelValue":o[7]||(o[7]=s=>t.form.is_public=s),disabled:!t.editable,id:"privacy-private-to-project",name:"privacy",value:"false","aria-describedby":"privacy-private-to-project-description",type:"radio",class:"focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300"},null,8,ht),[[j,t.form.is_public]])]),yt])])])])]),t.editable?(a(),l("div",vt,[e("div",_t,[e("div",null,[i(U,{label:"License",selected:t.form.license,"onUpdate:selected":o[8]||(o[8]=s=>t.form.license=s),items:t.licenses},null,8,["selected","items"])])])])):p("",!0),t.editable?(a(),l("div",xt,[t.form.is_public==!0||t.form.is_public=="true"?(a(),l("div",wt,[jt,e("div",kt,[e("div",Ct,[d(e("input",{onFocus:o[9]||(o[9]=s=>s.target.select()),readonly:!t.editable,id:"projectPublicURLCopy","onUpdate:modelValue":o[10]||(o[10]=s=>t.project.public_url=s),type:"text",class:"rounded-l-md focus:ring-gray-500 focus:border-gray-500 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300"},null,40,Tt),[[g,t.project.public_url]])]),e("button",{onClick:o[11]||(o[11]=s=>t.copyToClipboard(t.project.public_url,"projectPublicURLCopy")),type:"button",class:"-ml-px relative inline-flex items-center space-x-2 px-4 py-2 border border-gray-300 text-sm font-medium rounded-r-md text-gray-700 bg-gray-50 hover:bg-gray-100 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"},[e("span",null,[i(_,{class:"h-5 w-5","aria-hidden":"true"})])])])])):(a(),l("div",Lt,[e("div",Dt,[e("div",Pt,[e("div",Vt,[d(e("input",{"onUpdate:modelValue":o[12]||(o[12]=s=>t.linkAccess=s),type:"checkbox",class:"focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300 rounded"},null,512),[[Pe,t.linkAccess]])]),It]),t.linkAccess?(a(),l("div",$t,[e("div",Ut,[e("div",At,[e("input",{onFocus:o[13]||(o[13]=s=>s.target.select()),id:"projectPrivateURLCopy",readonly:"",type:"text",value:t.project.private_url,class:"rounded-l-md focus:ring-gray-500 focus:border-gray-500 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300"},null,40,St)]),e("button",{onClick:o[14]||(o[14]=s=>t.copyToClipboard(t.project.private_url,"projectPrivateURLCopy")),type:"button",class:"-ml-px relative inline-flex items-center space-x-2 px-2 py-2 border border-gray-300 text-sm font-medium rounded-r-md text-gray-700 bg-gray-50 hover:bg-gray-100 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"},[e("span",null,[i(_,{class:"h-5 w-5","aria-hidden":"true"})])])]),e("div",Ot,[i(E,{as:"div",modelValue:t.selectedAccessType,"onUpdate:modelValue":o[15]||(o[15]=s=>t.selectedAccessType=s)},{default:r(()=>[e("div",Mt,[e("div",Et,[e("div",zt,[e("div",Bt,[i(x,{class:"h-5 w-5","aria-hidden":"true"}),e("p",Rt,m(t.selectedAccessType.title),1)]),i(S,{class:"relative inline-flex items-center bg-gray-500 p-2 rounded-l-none rounded-r-md text-sm font-medium text-white hover:bg-gray-600 focus:outline-none focus:z-10 focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-gray-500"},{default:r(()=>[Ht,i(A,{class:"h-5 w-5 text-white","aria-hidden":"true"})]),_:1})])]),i(Ve,{"leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:r(()=>[i(M,{class:"origin-top-right absolute z-10 left-0 mt-2 w-72 rounded-md shadow-lg overflow-hidden bg-white divide-y divide-gray-200 ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:r(()=>[(a(!0),l(Ie,null,$e(t.publishingOptions,s=>(a(),b(O,{as:"template",key:s.title,value:s},{default:r(({active:f,selectedAccessType:w})=>[e("li",{class:c([f?"text-white bg-gray-500":"text-gray-900","cursor-default select-none relative p-4 text-sm"])},[e("div",Gt,[e("div",Nt,[e("p",{class:c(w?"font-semibold":"font-normal")},m(s.title),3),w?(a(),l("span",{key:0,class:c(f?"text-white":"text-gray-500")},[i(x,{class:"h-5 w-5","aria-hidden":"true"})],2)):p("",!0)]),e("p",{class:c([f?"text-gray-200":"text-gray-500","mt-2"])},m(s.description),3)])],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"])])])):p("",!0)]),i(z,{project:t.project,ref:"activityDetailsElement"},null,8,["project"])]))])):p("",!0)])])]),e("div",Xt,[i(B,{on:t.form.recentlySuccessful,class:"mr-3 py-2 text-green-200"},{default:r(()=>[Ft]),_:1},8,["on"]),i(R,{type:"button",class:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",onClick:o[16]||(o[16]=s=>t.open=!1)},{default:r(()=>[Jt]),_:1}),t.editable?(a(),b(H,{key:0,type:"submit",class:"ml-4 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",onClick:t.updateProject},{default:r(()=>[Yt]),_:1},8,["onClick"])):p("",!0)])])])]),_:1})])])]),_:1})]),_:1},8,["show"])}var os=F(Ae,[["render",Zt]]);export{os as default};
