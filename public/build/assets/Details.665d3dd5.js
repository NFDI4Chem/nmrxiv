import{_ as Z,G as q,aH as K,aJ as Q,aK as W,ay as ee,ar as te,H as se,aY as oe,aZ as ie,d as re,a_ as ne,ap as ae,aw as le,ae as de,f as ce,aN as pe,a$ as ue,b0 as me,b1 as he,b2 as fe,b3 as be,b4 as ge,b5 as ye,b6 as ve,b7 as _e,b8 as we,b9 as xe,ba as ke,bb as je,bc as Ce,bd as Te,af as Pe,be as Le,bf as De,r as $e,l as r,o as a,c as f,w as n,a as i,m as e,aT as C,u,t as m,aC as d,aF as b,ao as p,n as l,aQ as T,aB as Ve,p as c,bg as P,aD as Ie,ai as Ae,s as Ue,q as Se}from"./app.e0b65b09.js";import Oe from"./Activity.0ffdcad3.js";const L=[{value:"viewer",title:"Viewer",description:"Anyone on the internet with this link can view",current:!0},{value:"commentor",title:"Commentor",description:"Anyone on the internet with this link can comment",current:!1},{value:"editor",title:"Editor",description:"Anyone on the internet with this link can edit (sign in required)",current:!1}],Me=q({components:{Switch:K,SwitchGroup:Q,SwitchLabel:W,JetSecondaryButton:ee,JetButton:te,Dialog:se,DialogOverlay:oe,DialogTitle:ie,TransitionChild:re,ColorPicker:ne,JetActionMessage:ae,JetInputError:le,XIcon:de,ProjectActivity:Oe,TransitionRoot:ce,LinkIcon:pe,PlusSmIcon:ue,QuestionMarkCircleIcon:me,ExclamationCircleIcon:he,Listbox:fe,ListboxButton:be,ListboxLabel:ge,ListboxOption:ye,ListboxOptions:ve,Tab:_e,TabGroup:we,TabList:xe,TabPanel:ke,TabPanels:je,ClipboardCopyIcon:Ce,CheckIcon:Te,ChevronDownIcon:Pe,SelectRich:Le,VueTagsInput:De},props:["project","role"],setup(){return{activityDetailsElement:$e(null),publishingOptions:L}},data(){return{photoPreview:null,form:this.$inertia.form({_method:"PUT",name:this.project.name,description:this.project.description,error_message:null,team_id:this.project.team_id,owner_id:this.project.owner_id,color:this.project.color,starred:this.project.starred,access:this.project.access,access_type:this.project.access_type,is_public:this.project.is_public,license:null,license_id:null,tag:"",tags:[],tags_array:[],photo:null}),open:!1,licenses:[],selectedAccessType:L.filter(t=>t.value==this.project.access_type)[0],linkAccess:this.project.access=="link"}},methods:{clearPhotoFileInput(){var t;(t=this.$refs.photo)!=null&&t.value&&(this.$refs.photo.value=null)},selectNewPhoto(){this.$refs.photo.click()},updatePhotoPreview(){const t=this.$refs.photo.files[0];if(!t)return;const s=new FileReader;s.onload=g=>{this.photoPreview=g.target.result},s.readAsDataURL(t)},assignTags(){if(this.project){let t=[];this.project.tags.forEach(s=>{t.push({text:s.name.en})}),this.form.tags=t}},toggleDetails(){this.project&&axios.get(route("licenses")).then(t=>{this.licenses=t.data,this.form.license=this.licenses.find(s=>s.id==this.project.license_id)}),this.open=!this.open,this.assignTags()},updateProject(){this.$refs.photo&&(this.form.photo=this.$refs.photo.files[0]),this.form.owner_id=this.project.owner_id,this.form.team_id=this.project.team_id,this.form.tags_array=this.form.tags.map(t=>t.text),this.form.license&&(this.form.license_id=this.form.license.id),this.linkAccess?(this.form.access="link",this.form.access_type=this.selectedAccessType.value):this.form.access="restricted",this.form.post(route("dashboard.project.update",this.project.id),{preserveScroll:!0,onSuccess:()=>{this.clearPhotoFileInput()},onError:t=>{}})},toggleActivityDetails(){this.activityDetailsElement.toggleDetails()}},computed:{editable(){return this.role?this.role=="creator"||this.role=="owner"||this.role=="collaborator":!1}}}),Re={class:"absolute inset-0"},ze={class:"fixed inset-y-0 pl-16 max-w-full right-0 flex"},Be={class:"w-screen max-w-2xl"},Ee={class:"h-full divide-y divide-gray-200 flex flex-col bg-white shadow-xl"},He={class:"flex-1 h-0 overflow-y-auto"},Ne={class:"flex items-center justify-between"},Fe={class:"ml-3 h-7 flex items-center"},Ge=e("span",{class:"sr-only"},"Close panel",-1),Je={class:"flex-1 flex flex-col justify-between"},Xe={class:"px-4 divide-y divide-gray-200 sm:px-6"},Ye={class:"space-y-6 pt-6 pb-5"},Ze=e("label",{for:"project-name",class:"block text-sm font-medium text-gray-900"}," Project name ",-1),qe={class:"mt-1"},Ke=["readonly"],Qe=e("label",{for:"description",class:"block text-sm font-medium text-gray-900"}," Description ",-1),We={class:"mt-1"},et=e("label",{for:"comment",class:"sr-only"},"Comment",-1),tt=["readonly"],st={class:"border-b"},ot={class:"mx-px mt-px px-3 pt-2 pb-12"},it={key:0,class:"text-gray-400 text-sm font-medium"},rt={key:1},nt=["innerHTML"],at=e("label",{class:"block text-sm font-medium text-gray-700"},[e("small",null,[e("svg",{"aria-hidden":"true",height:"16",viewBox:"0 0 16 16",version:"1.1",width:"16","data-view-component":"true",class:"octicon octicon-markdown v-align-bottom inline"},[e("path",{"fill-rule":"evenodd",d:"M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z"})]),u(" Styling with Markdown is supported")])],-1),lt={class:"mb-3"},dt=e("label",{for:"description",class:"block text-sm font-medium text-gray-700"}," Tags ",-1),ct={key:0},pt={class:"mt-2"},ut=["src","alt"],mt={class:"mt-2"},ht=u(" Select A New Photo "),ft={key:1},bt=e("label",{for:"study-name",class:"block text-sm font-medium text-gray-900"}," Color ",-1),gt=e("legend",{class:"text-sm font-medium text-gray-900"}," Privacy ",-1),yt={class:"mt-2 space-y-5"},vt={class:"relative flex items-start"},_t={class:"absolute flex items-center h-5"},wt=["checked","disabled"],xt=e("div",{class:"pl-7 text-sm"},[e("label",{for:"privacy-public",class:"font-medium text-gray-900"}," Public access "),e("p",{id:"privacy-public-description",class:"text-gray-500"}," Everyone with the link will see this project. ")],-1),kt={class:"relative flex items-start"},jt={class:"absolute flex items-center h-5"},Ct=["checked","disabled"],Tt=e("div",{class:"pl-7 text-sm"},[e("label",{for:"privacy-private-to-project",class:"font-medium text-gray-900"}," Private to project members "),e("p",{id:"privacy-private-to-project-description",class:"text-gray-500"}," Only members of this project would be able to access. ")],-1),Pt={key:0,class:"pt-4 pb-6"},Lt={class:"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-1"},Dt={key:0},$t={key:1,class:"pt-4 pb-6"},Vt={key:0},It=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Public URL",-1),At={class:"mt-1 flex rounded-md shadow-sm"},Ut={class:"relative flex items-stretch flex-grow focus-within:z-10"},St=["readonly"],Ot={key:1},Mt={class:"space-y-1"},Rt={class:"relative flex items-start"},zt={class:"flex items-center h-5"},Bt=e("div",{class:"ml-3 text-sm"},[e("label",{class:"font-medium text-gray-700"},"Any one with link")],-1),Et={key:0},Ht={class:"flex"},Nt={class:"flex-grow"},Ft=["value"],Gt={class:"mt-3"},Jt={class:"relative"},Xt={class:"inline-flex shadow-sm rounded-md divide-x divide-gray-600"},Yt={class:"relative z-0 inline-flex shadow-sm rounded-md divide-x divide-gray-600"},Zt={class:"relative inline-flex items-center bg-gray-500 py-2 pl-3 pr-4 border border-transparent rounded-l-md shadow-sm text-white"},qt={class:"ml-2.5 text-sm font-medium"},Kt=e("span",{class:"sr-only"},"Change published status",-1),Qt={class:"flex flex-col"},Wt={class:"flex justify-between"},es={class:"flex-shrink-0 px-4 py-4 flex justify-end"},ts=u(" Saved. "),ss=u(" Cancel "),os=u(" Save ");function is(t,s,g,rs,ns,as){const D=r("DialogOverlay"),$=r("DialogTitle"),V=r("XIcon"),y=r("jet-input-error"),v=r("Tab"),I=r("TabList"),_=r("TabPanel"),A=r("TabPanels"),U=r("TabGroup"),S=r("vue-tags-input"),w=r("jet-secondary-button"),O=r("color-picker"),M=r("select-rich"),x=r("ClipboardCopyIcon"),k=r("CheckIcon"),R=r("ChevronDownIcon"),z=r("ListboxButton"),B=r("ListboxOption"),E=r("ListboxOptions"),H=r("Listbox"),N=r("project-activity"),F=r("jet-action-message"),G=r("jet-button"),J=r("TransitionChild"),X=r("Dialog"),Y=r("TransitionRoot");return a(),f(Y,{as:"template",show:t.open},{default:n(()=>[i(X,{as:"div",class:"fixed inset-0 z-50"},{default:n(()=>[e("div",Re,[i(D,{class:"absolute inset-0"}),e("div",ze,[i(J,{as:"template",enter:"transform transition ease-in-out duration-500 sm:duration-700","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:n(()=>[e("div",Be,[e("div",Ee,[e("div",He,[e("div",{class:"py-6 px-4 sm:px-6",style:C([t.project.color&&t.project.color!=""?"background-color:"+t.project.color:"background-color:rgb(75,75,75)"])},[e("div",Ne,[i($,{class:"text-lg font-medium text-white"},{default:n(()=>[u(m(t.project.name),1)]),_:1}),e("div",Fe,[e("button",{type:"button",class:"rounded-md hover:text-black text-white",onClick:s[0]||(s[0]=o=>t.open=!1)},[Ge,i(V,{class:"h-6 w-6","aria-hidden":"true"})])])])],4),e("div",Je,[e("div",Xe,[e("div",Ye,[e("div",null,[Ze,e("div",qe,[d(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>t.form.name=o),type:"text",readonly:!t.editable,name:"project-name",id:"project-name",class:"block w-full shadow-sm sm:text-sm focus:ring-gray-500 focus:border-gray-500 border-gray-300 rounded-md"},null,8,Ke),[[b,t.form.name]])]),i(y,{message:t.form.errors.name,class:"mt-2"},null,8,["message"])]),e("div",null,[Qe,e("div",We,[i(U,null,{default:n(()=>[i(I,{class:"flex items-center"},{default:n(()=>[i(v,{as:"template"},{default:n(({selected:o})=>[e("button",{class:p([o?"text-gray-900 bg-gray-100 hover:bg-gray-200":"text-gray-500 hover:text-gray-900 bg-white hover:bg-gray-100","px-3 py-1.5 border border-transparent text-sm font-medium rounded-md"])}," Write ",2)]),_:1}),i(v,{as:"template"},{default:n(({selected:o})=>[e("button",{class:p([o?"text-gray-900 bg-gray-100 hover:bg-gray-200":"text-gray-500 hover:text-gray-900 bg-white hover:bg-gray-100","ml-2 px-3 py-1.5 border border-transparent text-sm font-medium rounded-md"])}," Preview ",2)]),_:1})]),_:1}),i(A,{class:"mt-2"},{default:n(()=>[i(_,{class:"p-0.5 -m-0.5 rounded-lg"},{default:n(()=>[et,e("div",null,[d(e("textarea",{"onUpdate:modelValue":s[2]||(s[2]=o=>t.form.description=o),id:"description",readonly:!t.editable,name:"description",placeholder:"Description (Optional)",rows:"3",class:"shadow-sm focus:ring-gray-500 focus:border-gray-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,8,tt),[[b,t.form.description]])])]),_:1}),i(_,{class:"p-0.5 -m-0.5 rounded-lg"},{default:n(()=>[e("div",st,[e("div",ot,[t.form.description==""?(a(),l("span",it," Nothing to preview ")):(a(),l("span",rt,[e("div",{class:"prose",innerHTML:t.md(t.form.description)},null,8,nt)]))])])]),_:1})]),_:1})]),_:1}),at,i(y,{message:t.form.errors.description,class:"mt-2"},null,8,["message"])])]),e("div",lt,[dt,e("div",null,[i(S,{modelValue:t.form.tag,"onUpdate:modelValue":s[3]||(s[3]=o=>t.form.tag=o),"max-width":"100%",tags:t.form.tags,onTagsChanged:s[4]||(s[4]=o=>t.form.tags=o)},null,8,["modelValue","tags"])])]),t.editable?(a(),l("div",ct,[e("input",{type:"file",class:"hidden",ref:"photo",onChange:s[5]||(s[5]=(...o)=>t.updatePhotoPreview&&t.updatePhotoPreview(...o))},null,544),d(e("div",pt,[e("img",{src:t.project.project_photo_path,alt:t.project.name,class:"rounded-full h-24 w-72 rounded object-cover"},null,8,ut)],512),[[T,!t.photoPreview]]),d(e("div",mt,[e("span",{class:"block h-24 w-72 rounded",style:C("background-size: cover; background-repeat: no-repeat; background-position: center center; background-image: url('"+t.photoPreview+"');")},null,4)],512),[[T,t.photoPreview]]),i(w,{class:"mt-2 mr-2",type:"button",onClick:Ve(t.selectNewPhoto,["prevent"])},{default:n(()=>[ht]),_:1},8,["onClick"])])):c("",!0),t.editable?(a(),l("div",ft,[bt,i(O,{pureColor:t.form.color,"onUpdate:pureColor":s[6]||(s[6]=o=>t.form.color=o)},null,8,["pureColor"])])):c("",!0),e("fieldset",null,[gt,e("div",yt,[e("div",vt,[e("div",_t,[d(e("input",{checked:t.form.is_public===!0,"onUpdate:modelValue":s[7]||(s[7]=o=>t.form.is_public=o),disabled:!t.editable,id:"privacy-public",name:"privacy",value:"true","aria-describedby":"privacy-public-description",type:"radio",class:"focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300"},null,8,wt),[[P,t.form.is_public]])]),xt]),e("div",null,[e("div",kt,[e("div",jt,[d(e("input",{checked:t.form.is_public===!1,"onUpdate:modelValue":s[8]||(s[8]=o=>t.form.is_public=o),disabled:!t.editable,id:"privacy-private-to-project",name:"privacy",value:"false","aria-describedby":"privacy-private-to-project-description",type:"radio",class:"focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300"},null,8,Ct),[[P,t.form.is_public]])]),Tt])])])])]),t.editable?(a(),l("div",Pt,[e("div",Lt,[t.licenses?(a(),l("div",Dt,[i(M,{label:"License",selected:t.form.license,"onUpdate:selected":s[9]||(s[9]=o=>t.form.license=o),items:t.licenses},null,8,["selected","items"])])):c("",!0)])])):c("",!0),t.editable?(a(),l("div",$t,[t.form.is_public==!0||t.form.is_public=="true"?(a(),l("div",Vt,[It,e("div",At,[e("div",Ut,[d(e("input",{onFocus:s[10]||(s[10]=o=>o.target.select()),readonly:!t.editable,id:"projectPublicURLCopy","onUpdate:modelValue":s[11]||(s[11]=o=>t.project.public_url=o),type:"text",class:"rounded-l-md focus:ring-gray-500 focus:border-gray-500 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300"},null,40,St),[[b,t.project.public_url]])]),e("button",{onClick:s[12]||(s[12]=o=>t.copyToClipboard(t.project.public_url,"projectPublicURLCopy")),type:"button",class:"-ml-px relative inline-flex items-center space-x-2 px-4 py-2 border border-gray-300 text-sm font-medium rounded-r-md text-gray-700 bg-gray-50 hover:bg-gray-100 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"},[e("span",null,[i(x,{class:"h-5 w-5","aria-hidden":"true"})])])])])):(a(),l("div",Ot,[e("div",Mt,[e("div",Rt,[e("div",zt,[d(e("input",{"onUpdate:modelValue":s[13]||(s[13]=o=>t.linkAccess=o),type:"checkbox",class:"focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300 rounded"},null,512),[[Ie,t.linkAccess]])]),Bt]),t.linkAccess?(a(),l("div",Et,[e("div",Ht,[e("div",Nt,[e("input",{onFocus:s[14]||(s[14]=o=>o.target.select()),id:"projectPrivateURLCopy",readonly:"",type:"text",value:t.project.private_url,class:"rounded-l-md focus:ring-gray-500 focus:border-gray-500 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300"},null,40,Ft)]),e("button",{onClick:s[15]||(s[15]=o=>t.copyToClipboard(t.project.private_url,"projectPrivateURLCopy")),type:"button",class:"-ml-px relative inline-flex items-center space-x-2 px-2 py-2 border border-gray-300 text-sm font-medium rounded-r-md text-gray-700 bg-gray-50 hover:bg-gray-100 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"},[e("span",null,[i(x,{class:"h-5 w-5","aria-hidden":"true"})])])]),e("div",Gt,[i(H,{as:"div",modelValue:t.selectedAccessType,"onUpdate:modelValue":s[16]||(s[16]=o=>t.selectedAccessType=o)},{default:n(()=>[e("div",Jt,[e("div",Xt,[e("div",Yt,[e("div",Zt,[i(k,{class:"h-5 w-5","aria-hidden":"true"}),e("p",qt,m(t.selectedAccessType.title),1)]),i(z,{class:"relative inline-flex items-center bg-gray-500 p-2 rounded-l-none rounded-r-md text-sm font-medium text-white hover:bg-gray-600 focus:outline-none focus:z-10 focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-gray-500"},{default:n(()=>[Kt,i(R,{class:"h-5 w-5 text-white","aria-hidden":"true"})]),_:1})])]),i(Ae,{"leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:n(()=>[i(E,{class:"origin-top-right absolute z-10 left-0 mt-2 w-72 rounded-md shadow-lg overflow-hidden bg-white divide-y divide-gray-200 ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>[(a(!0),l(Ue,null,Se(t.publishingOptions,o=>(a(),f(B,{as:"template",key:o.title,value:o},{default:n(({active:h,selectedAccessType:j})=>[e("li",{class:p([h?"text-white bg-gray-500":"text-gray-900","cursor-default select-none relative p-4 text-sm"])},[e("div",Qt,[e("div",Wt,[e("p",{class:p(j?"font-semibold":"font-normal")},m(o.title),3),j?(a(),l("span",{key:0,class:p(h?"text-white":"text-gray-500")},[i(k,{class:"h-5 w-5","aria-hidden":"true"})],2)):c("",!0)]),e("p",{class:p([h?"text-gray-200":"text-gray-500","mt-2"])},m(o.description),3)])],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"])])])):c("",!0)]),i(N,{project:t.project,ref:"activityDetailsElement"},null,8,["project"])]))])):c("",!0)])])]),e("div",es,[i(F,{on:t.form.recentlySuccessful,class:"mr-3 py-2 text-green-200"},{default:n(()=>[ts]),_:1},8,["on"]),i(w,{type:"button",class:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",onClick:s[17]||(s[17]=o=>t.open=!1)},{default:n(()=>[ss]),_:1}),t.editable?(a(),f(G,{key:0,type:"submit",class:"ml-4 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",onClick:t.updateProject},{default:n(()=>[os]),_:1},8,["onClick"])):c("",!0)])])])]),_:1})])])]),_:1})]),_:1},8,["show"])}var cs=Z(Me,[["render",is]]);export{cs as default};
