import{_ as j,H as k,aY as D,d as C,f as T,aa as I,D as A,a$ as N,ae as B,l as r,o as s,c as O,w as c,a as l,m as e,t as o,n as a,q as f,u as _,p as u,s as h}from"./app.e0b65b09.js";const V={components:{Dialog:k,DialogOverlay:D,TransitionChild:C,TransitionRoot:T,HeartIcon:I,PencilIcon:A,PlusSmIcon:N,XIcon:B},props:["study","project"],data(){return{open:!1,audit:[]}},updated(){this.fetchActivity(this.project)},methods:{toggleDetails(){this.open=!this.open},fetchActivity(d){axios.get(route("dashboard.project.activity",d.id)).then(i=>{this.audit=i.data.audit})}}},H={class:"absolute inset-0 overflow-hidden"},P={class:"fixed inset-y-0 right-0 pl-10 max-w-full flex"},R={class:"relative w-96"},X={class:"absolute top-0 left-0 -ml-8 pt-4 pr-2 flex sm:-ml-10 sm:pr-4"},S=e("span",{class:"sr-only"},"Close panel",-1),$={class:"h-full bg-white p-8 overflow-y-auto"},q={class:"pb-16 space-y-6"},z={class:"mt-4 flex items-start justify-between"},E={class:"text-lg font-medium text-gray-900"},F=e("h2",{id:"timeline-title",class:"text-lg font-medium text-gray-900"}," Activity ",-1),L={class:"mt-6 flow-root"},M={role:"list",class:"-mb-8"},Y={class:"relative pb-8"},G=e("span",{class:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200","aria-hidden":"true"},null,-1),J={class:"relative flex space-x-3"},K=["src","alt"],Q={class:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4"},U={class:"font-medium text-gray-900"},W={class:"text-sm text-gray-500"},Z={class:"font-medium text-gray-900"},ee={key:0},te={key:1},se={key:0},oe={key:0,class:"text-gray-500"},ae=_("No logs before "),ne=e("br",null,null,-1);function ie(d,i,v,le,n,re){const y=r("DialogOverlay"),p=r("TransitionChild"),x=r("XIcon"),g=r("Dialog"),b=r("TransitionRoot");return s(),O(b,{as:"template",show:n.open},{default:c(()=>[l(g,{as:"div",class:"fixed inset-0 overflow-hidden z-50",onClose:i[1]||(i[1]=t=>n.open=!1)},{default:c(()=>[e("div",H,[l(p,{as:"template",enter:"ease-in-out duration-500","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:c(()=>[l(y,{class:"absolute inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})]),_:1}),e("div",P,[l(p,{as:"template",enter:"transform transition ease-in-out duration-500 sm:duration-700","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:c(()=>[e("div",R,[l(p,{as:"template",enter:"ease-in-out duration-500","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:c(()=>[e("div",X,[e("button",{type:"button",class:"rounded-md text-gray-300 hover:text-white focus:outline-none focus:ring-2 focus:ring-white",onClick:i[0]||(i[0]=t=>n.open=!1)},[S,l(x,{class:"h-6 w-6","aria-hidden":"true"})])])]),_:1}),e("div",$,[e("div",q,[e("div",null,[e("div",z,[e("div",null,[e("h2",E,o(v.project.name),1)])])]),e("div",null,[e("div",null,[F,e("div",L,[e("ul",M,[(s(!0),a(h,null,f(n.audit,t=>(s(),a("li",{key:t.auditable_id},[e("div",Y,[G,e("div",J,[e("div",null,[e("img",{src:t.user.profile_photo_url,alt:t.user.first_name+" "+t.user.last_name,class:"h-8 w-8 rounded-full bg-gray-400 flex items-center justify-center ring-8 ring-white object-cover"},null,8,K)]),e("div",Q,[e("div",null,[e("a",U,o(t.user.first_name)+" "+o(t.user.last_name),1),e("p",W,[_(o(t.event)+"\xA0 ",1),e("a",Z,[t.event=="created"||t.event=="deleted"?(s(),a("span",ee,o(t.auditable_type.replace("App\\Models\\","")),1)):u("",!0),t.event=="updated"?(s(),a("span",te,[(s(!0),a(h,null,f(Object.keys(t.new_values),(m,w)=>(s(),a("span",{key:m},[w>0?(s(),a("span",se,",")):u("",!0),_(" "+o(m),1)]))),128))])):u("",!0)])]),e("small",null,[e("time",null,o(d.formatDateTime(t.created_at)),1)])])])])])]))),128))])])])])]),n.audit.length?(s(),a("small",oe,[e("i",null,[ae,ne,_(o(d.formatDateTime(n.audit[n.audit.length-1].created_at)),1)])])):u("",!0)])])]),_:1})])])]),_:1})]),_:1},8,["show"])}var de=j(V,[["render",ie]]);export{de as default};
